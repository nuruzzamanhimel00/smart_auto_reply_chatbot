import{a as E,c as _,b as d,d as H,F as N,r as X,o as b,n as K,e as R,t as T,f as C,w as ae,v as oe,g as ie,P as ge,E as ve,l as ye,h as _e,i as be,j as we}from"./vendor-CvY6UHYk.js";function gn(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}const L=(t,e)=>{const s=t.__vccOpts||t;for(const[a,c]of e)s[a]=c;return s},Oe={name:"AdminChatBox",props:["chat"],data(){var t;return{chat_id:(t=this.chat)==null?void 0:t.id,messages:[],newMessage:"",isFriendTyping:!1,isFriendTypingTimer:null,isUserOnline:!1,isSending:!1}},watch:{messages:{handler(){this.$nextTick(()=>{this.scrollToBottom()})},deep:!0}},mounted(){this.fetchMessages()},methods:{scrollToBottom(){const t=this.$refs.messagesContainer;t&&t.scrollTo({top:t.scrollHeight,behavior:"smooth"})},fetchMessages(){E.get("/chat/".concat(this.chat_id,"/messages")).then(t=>{this.messages=t.data.messages,this.scrollToBottom()}).catch(t=>{console.error("Error fetching messages:",t)})},formatTime(t){if(!t)return"";const e=new Date(t);let s=e.getHours();const a=e.getMinutes(),c=s>=12?"PM":"AM";s=s%12,s=s||12;const r=a<10?"0"+a:a;return"".concat(s,":").concat(r," ").concat(c)}}},Te={class:"chat-container"},Se={class:"chat-panel"},je={class:"chat-main"},$e={class:"chat-body",ref:"messagesContainer"},ke={key:0,class:"message-content"},De={class:"message-header"},Ce={class:"message-time"},xe={class:"message-bubble"},Me={key:1,class:"message-avatar"},Ae=["src"],Pe={key:2,class:"message-avatar"},Ee=["src"],Be={key:3,class:"message-content"},Fe={class:"message-header"},Ue={class:"message-name"},Re={class:"message-time"},Ne={class:"message-bubble"};function Ie(t,e,s,a,c,r){return b(),_("div",Te,[d("div",Se,[d("div",je,[e[3]||(e[3]=H('<div class="chat-header" data-v-5b9a2290><div class="chat-header-user" data-v-5b9a2290><div class="chat-header-avatar" data-v-5b9a2290><img src="https://ui-avatars.com/api/?name=John+Doe&amp;background=0D6EFD&amp;color=fff" alt="User" data-v-5b9a2290></div><div class="chat-header-info" data-v-5b9a2290><h6 data-v-5b9a2290>WELCOME TO OUT CHAT BOX</h6><span class="chat-header-status" data-v-5b9a2290><i class="fas fa-circle" data-v-5b9a2290></i> Active now </span></div></div></div>',1)),d("div",$e,[(b(!0),_(N,null,X(c.messages,(n,i)=>{var o,l,f;return b(),_("div",{key:i,class:K(["message",n.sender_type==="guest"?"admin":"user"])},[n.sender_type=="guest"?(b(),_("div",ke,[d("div",De,[d("span",Ce,[e[0]||(e[0]=d("i",{class:"far fa-clock me-1"},null,-1)),R(T(r.formatTime(n.created_at)),1)]),e[1]||(e[1]=d("span",{class:"message-name"},T("You"),-1))]),d("div",xe,T(n.content),1)])):C("",!0),n.sender_type=="guest"?(b(),_("div",Me,[d("img",{src:"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(((o=n==null?void 0:n.senderable)==null?void 0:o.name)||"Guest"),"&background=198754&color=fff"),alt:"Guest"},null,8,Ae)])):C("",!0),n.sender_type!="guest"?(b(),_("div",Pe,[d("img",{src:"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(((l=n==null?void 0:n.senderable)==null?void 0:l.name)||"Admin"),"&background=0D6EFD&color=fff"),alt:"Admin"},null,8,Ee)])):C("",!0),n.sender_type!="guest"?(b(),_("div",Be,[d("div",Fe,[d("span",Ue,T(((f=n==null?void 0:n.senderable)==null?void 0:f.name)||"Admin Support"),1),d("span",Re,[e[2]||(e[2]=d("i",{class:"far fa-clock me-1"},null,-1)),R(T(r.formatTime(n.created_at)),1)])]),d("div",Ne,T(n.content),1)])):C("",!0)],2)}),128))],512)])])])}const ce=L(Oe,[["render",Ie],["__scopeId","data-v-5b9a2290"]]),He=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"})),Le={name:"GuestChatBox",props:["chat"],data(){var t,e;return{chat_id:(t=this.chat)==null?void 0:t.id,messages:[],newMessage:"",isFriendTyping:!1,isFriendTypingTimer:null,isUserOnline:!1,isSending:!1,agent_id:(e=this.chat)==null?void 0:e.agent_id}},watch:{messages:{handler(){this.$nextTick(()=>{this.scrollToBottom()})},deep:!0}},mounted(){this.fetchMessages(),Echo.private("chat.".concat(this.chat_id)).listen("message.sent",t=>{console.log("New message received via Echo:",t)})},methods:{scrollToBottom(){const t=this.$refs.messagesContainer;t&&t.scrollTo({top:t.scrollHeight,behavior:"smooth"})},fetchMessages(){E.get("/chat/".concat(this.chat_id,"/messages")).then(t=>{this.messages=t.data.messages,this.scrollToBottom()}).catch(t=>{console.error("Error fetching messages:",t)})},sendMessage(){if(this.newMessage.trim()===""||this.isSending)return;this.isSending=!0;const t={message:this.newMessage.trim(),agent_id:this.chat.agent_id,chat_id:this.chat_id};E.post("/agent/chats/send-message",t).then(e=>{var s;this.messages.push((s=e==null?void 0:e.data)==null?void 0:s.message),this.newMessage=""}).catch(e=>{console.error("Error sending message:",e)}).finally(()=>{this.isSending=!1})},formatTime(t){if(!t)return"";const e=new Date(t);let s=e.getHours();const a=e.getMinutes(),c=s>=12?"PM":"AM";s=s%12,s=s||12;const r=a<10?"0"+a:a;return"".concat(s,":").concat(r," ").concat(c)}}},Ve={class:"chat-container"},qe={class:"chat-panel"},ze={class:"chat-main"},Ge={class:"chat-body",ref:"messagesContainer"},Qe={class:"message-avatar"},Ze=["src"],Je={class:"message-content"},We={class:"message-header"},Xe={class:"message-name"},Ke={class:"message-time"},Ye={class:"message-bubble"},et={class:"message-content"},tt={class:"message-header"},nt={class:"message-time"},st={class:"message-name"},rt={class:"message-bubble"},at={class:"message-avatar"},ot={key:0,src:"https://ui-avatars.com/api/?name=System&background=198754&color=fff",alt:"System"},it=["src"],ct={class:"chat-footer"},lt={class:"chat-input-wrapper"},ut={class:"input-group-custom"},dt=["disabled"],ft={key:0,class:"fas fa-paper-plane"},pt={key:1,class:"fas fa-spinner fa-spin"};function ht(t,e,s,a,c,r){return b(),_("div",Ve,[d("div",qe,[d("div",ze,[e[5]||(e[5]=H('<div class="chat-header" data-v-baf43b1f><div class="chat-header-user" data-v-baf43b1f><div class="chat-header-avatar" data-v-baf43b1f><img src="https://ui-avatars.com/api/?name=John+Doe&amp;background=0D6EFD&amp;color=fff" alt="User" data-v-baf43b1f></div><div class="chat-header-info" data-v-baf43b1f><h6 data-v-baf43b1f>WELCOME TO OUT CHAT BOX</h6><span class="chat-header-status" data-v-baf43b1f><i class="fas fa-circle" data-v-baf43b1f></i> Active now </span></div></div></div>',1)),d("div",Ge,[(b(!0),_(N,null,X(c.messages,(n,i)=>{var o,l;return b(),_("div",{key:i,class:K(["message",{admin:["system","agent"].includes(n.sender_type),user:n.sender_type==="guest"}])},[n.sender_type==="guest"?(b(),_(N,{key:0},[d("div",Qe,[d("img",{src:"https://ui-avatars.com/api/?name=".concat((o=n==null?void 0:n.senderable)==null?void 0:o.name,"&background=0D6EFD&color=fff"),alt:"Guest"},null,8,Ze)]),d("div",Je,[d("div",We,[d("span",Xe,T((l=n==null?void 0:n.senderable)==null?void 0:l.name),1),d("span",Ke,[e[3]||(e[3]=d("i",{class:"far fa-clock me-1"},null,-1)),R(T(r.formatTime(n.created_at)),1)])]),d("div",Ye,T(n.content),1)])],64)):(b(),_(N,{key:1},[d("div",et,[d("div",tt,[d("span",nt,[e[4]||(e[4]=d("i",{class:"far fa-clock me-1"},null,-1)),R(T(r.formatTime(n.created_at)),1)]),d("span",st,T(n.senderable==null?"System":n.senderable.first_name),1)]),d("div",rt,T(n.content),1)]),d("div",at,[n.senderable==null?(b(),_("img",ot)):(b(),_("img",{key:1,src:n.senderable.avatar_url||"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(n.senderable.first_name||"System"),"&background=198754&color=fff"),alt:"Agent"},null,8,it))])],64))],2)}),128))],512),d("div",ct,[d("div",lt,[d("div",ut,[ae(d("input",{type:"text",placeholder:"Type your message here...","onUpdate:modelValue":e[0]||(e[0]=n=>c.newMessage=n),onKeyup:e[1]||(e[1]=ie((...n)=>r.sendMessage&&r.sendMessage(...n),["enter"]))},null,544),[[oe,c.newMessage]])]),d("button",{class:"send-button",onClick:e[2]||(e[2]=(...n)=>r.sendMessage&&r.sendMessage(...n)),disabled:c.isSending},[c.isSending?(b(),_("i",pt)):(b(),_("i",ft)),d("span",null,T(c.isSending?"Sending...":"Send"),1)],8,dt)])])])])])}const le=L(Le,[["render",ht],["__scopeId","data-v-baf43b1f"]]),mt=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"})),gt={name:"GuestChatBox",props:["chat"],data(){var t;return{chat_id:(t=this.chat)==null?void 0:t.id,messages:[],newMessage:"",isFriendTyping:!1,isFriendTypingTimer:null,isUserOnline:!1,isSending:!1}},watch:{messages:{handler(){this.$nextTick(()=>{this.scrollToBottom()})},deep:!0}},mounted(){this.fetchMessages(),Echo.private("chat.".concat(this.chat_id)).listen("message.sent",t=>{console.log("New message received via Echo:",t)})},methods:{scrollToBottom(){const t=this.$refs.messagesContainer;t&&t.scrollTo({top:t.scrollHeight,behavior:"smooth"})},fetchMessages(){E.get("/chat/".concat(this.chat_id,"/messages")).then(t=>{this.messages=t.data.messages,this.scrollToBottom()}).catch(t=>{console.error("Error fetching messages:",t)})},sendMessage(){if(this.newMessage.trim()===""||this.isSending)return;this.isSending=!0;const t={message:this.newMessage.trim(),guest_id:this.chat.guest_id};E.post("/chat/send-message",t).then(e=>{var s;this.messages.push((s=e==null?void 0:e.data)==null?void 0:s.message),this.newMessage=""}).catch(e=>{console.error("Error sending message:",e)}).finally(()=>{this.isSending=!1})},formatTime(t){if(!t)return"";const e=new Date(t);let s=e.getHours();const a=e.getMinutes(),c=s>=12?"PM":"AM";s=s%12,s=s||12;const r=a<10?"0"+a:a;return"".concat(s,":").concat(r," ").concat(c)}}},vt={class:"chat-container"},yt={class:"chat-panel"},_t={class:"chat-main"},bt={class:"chat-body",ref:"messagesContainer"},wt={key:0,class:"message-content"},Ot={class:"message-header"},Tt={class:"message-time"},St={class:"message-bubble"},jt={key:1,class:"message-avatar"},$t=["src"],kt={key:2,class:"message-avatar"},Dt=["src"],Ct=["src"],xt={key:3,class:"message-content"},Mt={class:"message-header"},At={class:"message-name"},Pt={class:"message-time"},Et={class:"message-bubble"},Bt={class:"chat-footer"},Ft={class:"chat-input-wrapper"},Ut={class:"input-group-custom"},Rt=["disabled"],Nt={key:0,class:"fas fa-paper-plane"},It={key:1,class:"fas fa-spinner fa-spin"};function Ht(t,e,s,a,c,r){return b(),_("div",vt,[d("div",yt,[d("div",_t,[e[6]||(e[6]=H('<div class="chat-header" data-v-ad669b2f><div class="chat-header-user" data-v-ad669b2f><div class="chat-header-avatar" data-v-ad669b2f><img src="https://ui-avatars.com/api/?name=John+Doe&amp;background=0D6EFD&amp;color=fff" alt="User" data-v-ad669b2f></div><div class="chat-header-info" data-v-ad669b2f><h6 data-v-ad669b2f>WELCOME TO OUT CHAT BOX</h6><span class="chat-header-status" data-v-ad669b2f><i class="fas fa-circle" data-v-ad669b2f></i> Active now </span></div></div></div>',1)),d("div",bt,[(b(!0),_(N,null,X(c.messages,(n,i)=>{var o,l,f;return b(),_("div",{key:i,class:K(["message",n.sender_type==="guest"?"admin":"user"])},[n.sender_type=="guest"?(b(),_("div",wt,[d("div",Ot,[d("span",Tt,[e[3]||(e[3]=d("i",{class:"far fa-clock me-1"},null,-1)),R(T(r.formatTime(n.created_at)),1)]),e[4]||(e[4]=d("span",{class:"message-name"},T("You"),-1))]),d("div",St,T(n.content),1)])):C("",!0),n.sender_type=="guest"?(b(),_("div",jt,[d("img",{src:"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(((o=n==null?void 0:n.senderable)==null?void 0:o.name)||"Guest"),"&background=198754&color=fff"),alt:"Guest"},null,8,$t)])):C("",!0),n.sender_type!="guest"?(b(),_("div",kt,[n.senderable==null?(b(),_("img",{key:0,src:"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(((l=n==null?void 0:n.senderable)==null?void 0:l.name)||"Admin"),"&background=0D6EFD&color=fff"),alt:"Admin"},null,8,Dt)):(b(),_("img",{key:1,src:n.senderable.avatar_url||"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(n.senderable.first_name||"System"),"&background=198754&color=fff"),alt:"Admin"},null,8,Ct))])):C("",!0),n.sender_type!="guest"?(b(),_("div",xt,[d("div",Mt,[d("span",At,T(((f=n==null?void 0:n.senderable)==null?void 0:f.first_name)||"Admin Support"),1),d("span",Pt,[e[5]||(e[5]=d("i",{class:"far fa-clock me-1"},null,-1)),R(T(r.formatTime(n.created_at)),1)])]),d("div",Et,T(n.content),1)])):C("",!0)],2)}),128))],512),d("div",Bt,[d("div",Ft,[d("div",Ut,[ae(d("input",{type:"text",placeholder:"Type your message here...","onUpdate:modelValue":e[0]||(e[0]=n=>c.newMessage=n),onKeyup:e[1]||(e[1]=ie((...n)=>r.sendMessage&&r.sendMessage(...n),["enter"]))},null,544),[[oe,c.newMessage]])]),d("button",{class:"send-button",onClick:e[2]||(e[2]=(...n)=>r.sendMessage&&r.sendMessage(...n)),disabled:c.isSending},[c.isSending?(b(),_("i",It)):(b(),_("i",Nt)),d("span",null,T(c.isSending?"Sending...":"Send"),1)],8,Rt)])])])])])}const ue=L(gt,[["render",Ht],["__scopeId","data-v-ad669b2f"]]),Lt=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"})),Vt={};function qt(t,e){return b(),_("div",null,e[0]||(e[0]=[H("<h1>Test Component</h1><p>This is a test component.</p><p>Test</p><p>Test</p><p>Test</p><p>Test</p><p>Test</p><p>Test</p><p>Test</p><p>Test</p>",10)]))}const zt=L(Vt,[["render",qt]]),Gt=Object.freeze(Object.defineProperty({__proto__:null,default:zt},Symbol.toStringTag,{value:"Module"})),Qt={};function Zt(t,e){return b(),_("div",null,e[0]||(e[0]=[H("<h1>Test Component</h1><p>This is a test component.</p><p>Test</p><p>Test</p><p>Test</p><p>Test</p><p>Test</p><p>Test</p><p>Test</p><p>Test</p>",10)]))}const Jt=L(Qt,[["render",Zt]]),Wt=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"}));window.Pusher=ge;window.Echo=new ve({broadcaster:"reverb",key:"0be4nc24hrfahfmkoqmy",wsHost:"localhost",wsPort:"8080",wssPort:"8080",forceTLS:!1,enabledTransports:["ws","wss"]});window.axios=E;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function Xt(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Kt(a.key),a)}}function de(t,e,s){return e&&Xt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},$.apply(null,arguments)}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(t)}function fe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fe=function(){return!!t})()}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},I(t,e)}function Kt(t){var e=function(s){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var c=a.call(s,"string");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(t);return typeof e=="symbol"?e:e+""}function J(t){var e=typeof Map=="function"?new Map:void 0;return J=function(s){if(s===null||!function(c){try{return Function.toString.call(c).indexOf("[native code]")!==-1}catch(r){return typeof c=="function"}}(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(s))return e.get(s);e.set(s,a)}function a(){return function(c,r,n){if(fe())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,r);var o=new(c.bind.apply(c,i));return n&&I(o,n.prototype),o}(s,arguments,Z(this).constructor)}return a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),I(a,s)},J(t)}var Yt=String.prototype.replace,en=/%20/g,te="RFC3986",U={default:te,formatters:{RFC1738:function(t){return Yt.call(t,en,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:te},G=Object.prototype.hasOwnProperty,A=Array.isArray,D=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),ne=function(t,e){for(var s=e&&e.plainObjects?Object.create(null):{},a=0;a<t.length;++a)t[a]!==void 0&&(s[a]=t[a]);return s},x={arrayToObject:ne,assign:function(t,e){return Object.keys(e).reduce(function(s,a){return s[a]=e[a],s},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],s=[],a=0;a<e.length;++a)for(var c=e[a],r=c.obj[c.prop],n=Object.keys(r),i=0;i<n.length;++i){var o=n[i],l=r[o];typeof l=="object"&&l!==null&&s.indexOf(l)===-1&&(e.push({obj:r,prop:o}),s.push(l))}return function(f){for(;f.length>1;){var u=f.pop(),g=u.obj[u.prop];if(A(g)){for(var v=[],m=0;m<g.length;++m)g[m]!==void 0&&v.push(g[m]);u.obj[u.prop]=v}}}(e),t},decode:function(t,e,s){var a=t.replace(/\+/g," ");if(s==="iso-8859-1")return a.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(a)}catch(c){return a}},encode:function(t,e,s,a,c){if(t.length===0)return t;var r=t;if(typeof t=="symbol"?r=Symbol.prototype.toString.call(t):typeof t!="string"&&(r=String(t)),s==="iso-8859-1")return escape(r).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var n="",i=0;i<r.length;++i){var o=r.charCodeAt(i);o===45||o===46||o===95||o===126||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||c===U.RFC1738&&(o===40||o===41)?n+=r.charAt(i):o<128?n+=D[o]:o<2048?n+=D[192|o>>6]+D[128|63&o]:o<55296||o>=57344?n+=D[224|o>>12]+D[128|o>>6&63]+D[128|63&o]:(o=65536+((1023&o)<<10|1023&r.charCodeAt(i+=1)),n+=D[240|o>>18]+D[128|o>>12&63]+D[128|o>>6&63]+D[128|63&o])}return n},isBuffer:function(t){return!(!t||typeof t!="object"||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},maybeMap:function(t,e){if(A(t)){for(var s=[],a=0;a<t.length;a+=1)s.push(e(t[a]));return s}return e(t)},merge:function t(e,s,a){if(!s)return e;if(typeof s!="object"){if(A(e))e.push(s);else{if(!e||typeof e!="object")return[e,s];(a&&(a.plainObjects||a.allowPrototypes)||!G.call(Object.prototype,s))&&(e[s]=!0)}return e}if(!e||typeof e!="object")return[e].concat(s);var c=e;return A(e)&&!A(s)&&(c=ne(e,a)),A(e)&&A(s)?(s.forEach(function(r,n){if(G.call(e,n)){var i=e[n];i&&typeof i=="object"&&r&&typeof r=="object"?e[n]=t(i,r,a):e.push(r)}else e[n]=r}),e):Object.keys(s).reduce(function(r,n){var i=s[n];return r[n]=G.call(r,n)?t(r[n],i,a):i,r},c)}},tn=Object.prototype.hasOwnProperty,se={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},P=Array.isArray,nn=String.prototype.split,sn=Array.prototype.push,pe=function(t,e){sn.apply(t,P(e)?e:[e])},rn=Date.prototype.toISOString,re=U.default,j={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:x.encode,encodeValuesOnly:!1,format:re,formatter:U.formatters[re],indices:!1,serializeDate:function(t){return rn.call(t)},skipNulls:!1,strictNullHandling:!1},an=function t(e,s,a,c,r,n,i,o,l,f,u,g,v,m){var w,h=e;if(typeof i=="function"?h=i(s,h):h instanceof Date?h=f(h):a==="comma"&&P(h)&&(h=x.maybeMap(h,function(z){return z instanceof Date?f(z):z})),h===null){if(c)return n&&!v?n(s,j.encoder,m,"key",u):s;h=""}if(typeof(w=h)=="string"||typeof w=="number"||typeof w=="boolean"||typeof w=="symbol"||typeof w=="bigint"||x.isBuffer(h)){if(n){var y=v?s:n(s,j.encoder,m,"key",u);if(a==="comma"&&v){for(var p=nn.call(String(h),","),O="",S=0;S<p.length;++S)O+=(S===0?"":",")+g(n(p[S],j.encoder,m,"value",u));return[g(y)+"="+O]}return[g(y)+"="+g(n(h,j.encoder,m,"value",u))]}return[g(s)+"="+g(String(h))]}var k,F=[];if(h===void 0)return F;if(a==="comma"&&P(h))k=[{value:h.length>0?h.join(",")||null:void 0}];else if(P(i))k=i;else{var Y=Object.keys(h);k=o?Y.sort(o):Y}for(var q=0;q<k.length;++q){var M=k[q],ee=typeof M=="object"&&M.value!==void 0?M.value:h[M];if(!r||ee!==null){var me=P(h)?typeof a=="function"?a(s,M):s:s+(l?"."+M:"["+M+"]");pe(F,t(ee,me,a,c,r,n,i,o,l,f,u,g,v,m))}}return F},W=Object.prototype.hasOwnProperty,on=Array.isArray,V={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:x.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},cn=function(t){return t.replace(/&#(\d+);/g,function(e,s){return String.fromCharCode(parseInt(s,10))})},he=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},ln=function(t,e,s,a){if(t){var c=s.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,r=/(\[[^[\]]*])/g,n=s.depth>0&&/(\[[^[\]]*])/.exec(c),i=n?c.slice(0,n.index):c,o=[];if(i){if(!s.plainObjects&&W.call(Object.prototype,i)&&!s.allowPrototypes)return;o.push(i)}for(var l=0;s.depth>0&&(n=r.exec(c))!==null&&l<s.depth;){if(l+=1,!s.plainObjects&&W.call(Object.prototype,n[1].slice(1,-1))&&!s.allowPrototypes)return;o.push(n[1])}return n&&o.push("["+c.slice(n.index)+"]"),function(f,u,g,v){for(var m=v?u:he(u,g),w=f.length-1;w>=0;--w){var h,y=f[w];if(y==="[]"&&g.parseArrays)h=[].concat(m);else{h=g.plainObjects?Object.create(null):{};var p=y.charAt(0)==="["&&y.charAt(y.length-1)==="]"?y.slice(1,-1):y,O=parseInt(p,10);g.parseArrays||p!==""?!isNaN(O)&&y!==p&&String(O)===p&&O>=0&&g.parseArrays&&O<=g.arrayLimit?(h=[])[O]=m:p!=="__proto__"&&(h[p]=m):h={0:m}}m=h}return m}(o,e,s,a)}},un=function(t,e){var s=function(l){return V}();if(t===""||t==null)return s.plainObjects?Object.create(null):{};for(var a=typeof t=="string"?function(l,f){var u,g={},v=(f.ignoreQueryPrefix?l.replace(/^\?/,""):l).split(f.delimiter,f.parameterLimit===1/0?void 0:f.parameterLimit),m=-1,w=f.charset;if(f.charsetSentinel)for(u=0;u<v.length;++u)v[u].indexOf("utf8=")===0&&(v[u]==="utf8=%E2%9C%93"?w="utf-8":v[u]==="utf8=%26%2310003%3B"&&(w="iso-8859-1"),m=u,u=v.length);for(u=0;u<v.length;++u)if(u!==m){var h,y,p=v[u],O=p.indexOf("]="),S=O===-1?p.indexOf("="):O+1;S===-1?(h=f.decoder(p,V.decoder,w,"key"),y=f.strictNullHandling?null:""):(h=f.decoder(p.slice(0,S),V.decoder,w,"key"),y=x.maybeMap(he(p.slice(S+1),f),function(k){return f.decoder(k,V.decoder,w,"value")})),y&&f.interpretNumericEntities&&w==="iso-8859-1"&&(y=cn(y)),p.indexOf("[]=")>-1&&(y=on(y)?[y]:y),g[h]=W.call(g,h)?x.combine(g[h],y):y}return g}(t,s):t,c=s.plainObjects?Object.create(null):{},r=Object.keys(a),n=0;n<r.length;++n){var i=r[n],o=ln(i,a[i],s,typeof t=="string");c=x.merge(c,o,s)}return x.compact(c)},Q=function(){function t(s,a,c){var r,n;this.name=s,this.definition=a,this.bindings=(r=a.bindings)!=null?r:{},this.wheres=(n=a.wheres)!=null?n:{},this.config=c}var e=t.prototype;return e.matchesUrl=function(s){var a,c=this;if(!this.definition.methods.includes("GET"))return!1;var r=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,function(u,g,v,m){var w,h="(?<"+v+">"+(((w=c.wheres[v])==null?void 0:w.replace(/(^\^)|(\$$)/g,""))||"[^/?]+")+")";return m?"("+g+h+")?":""+g+h}).replace(/^\w+:\/\//,""),n=s.replace(/^\w+:\/\//,"").split("?"),i=n[0],o=n[1],l=(a=new RegExp("^"+r+"/?$").exec(i))!=null?a:new RegExp("^"+r+"/?$").exec(decodeURI(i));if(l){for(var f in l.groups)l.groups[f]=typeof l.groups[f]=="string"?decodeURIComponent(l.groups[f]):l.groups[f];return{params:l.groups,query:un(o)}}return!1},e.compile=function(s){var a=this;return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,function(c,r,n){var i,o;if(!n&&[null,void 0].includes(s[r]))throw new Error("Ziggy error: '"+r+"' parameter is required for route '"+a.name+"'.");if(a.wheres[r]&&!new RegExp("^"+(n?"("+a.wheres[r]+")?":a.wheres[r])+"$").test((o=s[r])!=null?o:""))throw new Error("Ziggy error: '"+r+"' parameter '"+s[r]+"' does not match required format '"+a.wheres[r]+"' for route '"+a.name+"'.");return encodeURI((i=s[r])!=null?i:"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.config.absolute?/(\.[^/]+?)(\/\/)/:/(^)(\/\/)/,"$1/").replace(/\/+$/,""):this.template},de(t,[{key:"template",get:function(){var s=(this.origin+"/"+this.definition.uri).replace(/\/+$/,"");return s===""?"/":s}},{key:"origin",get:function(){return this.config.absolute?this.definition.domain?""+this.config.url.match(/^\w+:\/\//)[0]+this.definition.domain+(this.config.port?":"+this.config.port:""):this.config.url:""}},{key:"parameterSegments",get:function(){var s,a;return(s=(a=this.template.match(/{[^}?]+\??}/g))==null?void 0:a.map(function(c){return{name:c.replace(/{|\??}/g,""),required:!/\?}$/.test(c)}}))!=null?s:[]}}])}(),dn=function(t){function e(r,n,i,o){var l;if(i===void 0&&(i=!0),(l=t.call(this)||this).t=o!=null?o:typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy,l.t=$({},l.t,{absolute:i}),r){if(!l.t.routes[r])throw new Error("Ziggy error: route '"+r+"' is not in the route list.");l.i=new Q(r,l.t.routes[r],l.t),l.u=l.l(n)}return l}var s,a;a=t,(s=e).prototype=Object.create(a.prototype),s.prototype.constructor=s,I(s,a);var c=e.prototype;return c.toString=function(){var r=this,n=Object.keys(this.u).filter(function(i){return!r.i.parameterSegments.some(function(o){return o.name===i})}).filter(function(i){return i!=="_query"}).reduce(function(i,o){var l;return $({},i,((l={})[o]=r.u[o],l))},{});return this.i.compile(this.u)+function(i,o){var l,f=i,u=function(p){if(!p)return j;if(p.encoder!=null&&typeof p.encoder!="function")throw new TypeError("Encoder has to be a function.");var O=p.charset||j.charset;if(p.charset!==void 0&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var S=U.default;if(p.format!==void 0){if(!tn.call(U.formatters,p.format))throw new TypeError("Unknown format option provided.");S=p.format}var k=U.formatters[S],F=j.filter;return(typeof p.filter=="function"||P(p.filter))&&(F=p.filter),{addQueryPrefix:typeof p.addQueryPrefix=="boolean"?p.addQueryPrefix:j.addQueryPrefix,allowDots:p.allowDots===void 0?j.allowDots:!!p.allowDots,charset:O,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:j.charsetSentinel,delimiter:p.delimiter===void 0?j.delimiter:p.delimiter,encode:typeof p.encode=="boolean"?p.encode:j.encode,encoder:typeof p.encoder=="function"?p.encoder:j.encoder,encodeValuesOnly:typeof p.encodeValuesOnly=="boolean"?p.encodeValuesOnly:j.encodeValuesOnly,filter:F,format:S,formatter:k,serializeDate:typeof p.serializeDate=="function"?p.serializeDate:j.serializeDate,skipNulls:typeof p.skipNulls=="boolean"?p.skipNulls:j.skipNulls,sort:typeof p.sort=="function"?p.sort:null,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:j.strictNullHandling}}(o);typeof u.filter=="function"?f=(0,u.filter)("",f):P(u.filter)&&(l=u.filter);var g=[];if(typeof f!="object"||f===null)return"";var v=se[o&&o.arrayFormat in se?o.arrayFormat:o&&"indices"in o?o.indices?"indices":"repeat":"indices"];l||(l=Object.keys(f)),u.sort&&l.sort(u.sort);for(var m=0;m<l.length;++m){var w=l[m];u.skipNulls&&f[w]===null||pe(g,an(f[w],w,v,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset))}var h=g.join(u.delimiter),y=u.addQueryPrefix===!0?"?":"";return u.charsetSentinel&&(y+=u.charset==="iso-8859-1"?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),h.length>0?y+h:""}($({},n,this.u._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:function(i,o){return typeof i=="boolean"?Number(i):o(i)}})},c.v=function(r){var n=this;r?this.t.absolute&&r.startsWith("/")&&(r=this.p().host+r):r=this.h();var i={},o=Object.entries(this.t.routes).find(function(l){return i=new Q(l[0],l[1],n.t).matchesUrl(r)})||[void 0,void 0];return $({name:o[0]},i,{route:o[1]})},c.h=function(){var r=this.p(),n=r.pathname,i=r.search;return(this.t.absolute?r.host+n:n.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+i},c.current=function(r,n){var i=this.v(),o=i.name,l=i.params,f=i.query,u=i.route;if(!r)return o;var g=new RegExp("^"+r.replace(/\./g,"\\.").replace(/\*/g,".*")+"$").test(o);if([null,void 0].includes(n)||!g)return g;var v=new Q(o,u,this.t);n=this.l(n,v);var m=$({},l,f);if(Object.values(n).every(function(h){return!h})&&!Object.values(m).some(function(h){return h!==void 0}))return!0;var w=function(h,y){return Object.entries(h).every(function(p){var O=p[0],S=p[1];return Array.isArray(S)&&Array.isArray(y[O])?S.every(function(k){return y[O].includes(k)}):typeof S=="object"&&typeof y[O]=="object"&&S!==null&&y[O]!==null?w(S,y[O]):y[O]==S})};return w(n,m)},c.p=function(){var r,n,i,o,l,f,u=typeof window<"u"?window.location:{},g=u.host,v=u.pathname,m=u.search;return{host:(r=(n=this.t.location)==null?void 0:n.host)!=null?r:g===void 0?"":g,pathname:(i=(o=this.t.location)==null?void 0:o.pathname)!=null?i:v===void 0?"":v,search:(l=(f=this.t.location)==null?void 0:f.search)!=null?l:m===void 0?"":m}},c.has=function(r){return this.t.routes.hasOwnProperty(r)},c.l=function(r,n){var i=this;r===void 0&&(r={}),n===void 0&&(n=this.i),r!=null||(r={}),r=["string","number"].includes(typeof r)?[r]:r;var o=n.parameterSegments.filter(function(f){return!i.t.defaults[f.name]});if(Array.isArray(r))r=r.reduce(function(f,u,g){var v,m;return $({},f,o[g]?((v={})[o[g].name]=u,v):typeof u=="object"?u:((m={})[u]="",m))},{});else if(o.length===1&&!r[o[0].name]&&(r.hasOwnProperty(Object.values(n.bindings)[0])||r.hasOwnProperty("id"))){var l;(l={})[o[0].name]=r,r=l}return $({},this.m(n),this.j(r,n))},c.m=function(r){var n=this;return r.parameterSegments.filter(function(i){return n.t.defaults[i.name]}).reduce(function(i,o,l){var f,u=o.name;return $({},i,((f={})[u]=n.t.defaults[u],f))},{})},c.j=function(r,n){var i=n.bindings,o=n.parameterSegments;return Object.entries(r).reduce(function(l,f){var u,g,v=f[0],m=f[1];if(!m||typeof m!="object"||Array.isArray(m)||!o.some(function(w){return w.name===v}))return $({},l,((g={})[v]=m,g));if(!m.hasOwnProperty(i[v])){if(!m.hasOwnProperty("id"))throw new Error("Ziggy error: object passed as '"+v+"' parameter is missing route model binding key '"+i[v]+"'.");i[v]="id"}return $({},l,((u={})[v]=m[i[v]],u))},{})},c.valueOf=function(){return this.toString()},de(e,[{key:"params",get:function(){var r=this.v();return $({},r.params,r.query)}},{key:"routeParams",get:function(){return this.v().params}},{key:"queryParams",get:function(){return this.v().query}}])}(J(String));function fn(t,e,s,a){var c=new dn(t,e,s,a);return t?c.toString():c}var pn={install:function(t,e){var s=function(a,c,r,n){return n===void 0&&(n=e),fn(a,c,r,n)};parseInt(t.version)>2?(t.config.globalProperties.route=s,t.provide("route",s)):t.mixin({methods:{route:s}})}};class hn{constructor(e,s,a,c,r){this.isFetchComplete=!1,this.allLangData=[],this.actionUrl=route("get_lang.data.by_model"),this.locale="en",this.model=e,this.locale=s,this.model_id=a,this.field_name=c,this.defaultData=r}getTransData(){return this.prepareAndGetData()}async initializeTranslate(){return await this.getLangDataFromApi()}async getLangDataFromApi(){return await this.getData(),!0}async getData(){const e={model:this.model,locale:this.locale};let s=this;return await E.post(this.actionUrl,e).then(a=>{const{status:c,message:r,data:n}=a==null?void 0:a.data;if(c=="success")return s.allLangData=n,sessionStorage.setItem("lang-".concat(s.model,"-").concat(this.locale),JSON.stringify(n)),s.isFetchComplete=!0,n})}prepareAndGetData(){var s;this.resData=this.defaultData;let e={created_at:"",field_name:"",id:0,locale:"",model_id:0,model_name:"",updated_at:"",value:""};if(this.getSessionData(),this.isFetchComplete){const a={model_id:this.model_id,field_name:this.field_name};e=ye.find(this.allLangData,a),e!=null&&e.value&&((s=e==null?void 0:e.value)==null?void 0:s.length)>0&&(this.resData=e==null?void 0:e.value)}return this.resData}getSessionData(){const e=sessionStorage.getItem("lang-".concat(this.model,"-").concat(this.locale));if(e)return this.allLangData=JSON.parse(e),this.isFetchComplete=!0,this.allLangData}clearSessionData(){sessionStorage.remove("lang-".concat(this.model,"-").concat(this.locale)),sessionStorage.clear()}}toastr.options={timeOut:5e3,showDuration:300,progressBar:!0,icon:"material-icons",closeButton:!0,showMethod:"fadeIn",positionClass:"toast-top-right"};const mn=(t,e,s,a,c)=>new hn(t,s,e,a,c).getTransData(),B=_e({}).use(pn).use(be,{resolve:async t=>{const s=Object.assign({})["../lang/".concat(t,".json")];return await s()}});B.config.globalProperties.$trans=mn;Object.entries(Object.assign({"./components/AdminChatBox.vue":He,"./components/AgentChatBox.vue":mt,"./components/GuestChatBox.vue":Lt,"./components/HelloComponent.vue":Gt,"./components/TestComponent.vue":Wt})).forEach(([t,e])=>{B.component(t.split("/").pop().replace(/\.\w+$/,""),e.default)});B.component("guest-chat-box",ue);B.component("admin-chat-box",ce);B.component("agent-chat-box",le);B.use(we);B.mount("#vueApp");export{gn as __vite_legacy_guard};
